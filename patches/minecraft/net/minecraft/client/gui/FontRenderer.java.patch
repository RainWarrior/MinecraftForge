--- ../src-base/minecraft/net/minecraft/client/gui/FontRenderer.java
+++ ../src-work/minecraft/net/minecraft/client/gui/FontRenderer.java
@@ -269,7 +269,7 @@
 
     public int func_175065_a(String p_175065_1_, float p_175065_2_, float p_175065_3_, int p_175065_4_, boolean p_175065_5_)
     {
-        GlStateManager.func_179141_d();
+        enableAlpha();
         this.func_78265_b();
         int j;
 
@@ -341,7 +341,7 @@
 
                     k = this.field_78285_g[j];
                     this.field_78304_r = k;
-                    GlStateManager.func_179131_c((float)(k >> 16) / 255.0F, (float)(k >> 8 & 255) / 255.0F, (float)(k & 255) / 255.0F, this.field_78305_q);
+                    setColor((float)(k >> 16) / 255.0F, (float)(k >> 8 & 255) / 255.0F, (float)(k & 255) / 255.0F, this.field_78305_q);
                 }
                 else if (j == 16)
                 {
@@ -370,7 +370,7 @@
                     this.field_78299_w = false;
                     this.field_78300_v = false;
                     this.field_78301_u = false;
-                    GlStateManager.func_179131_c(this.field_78291_n, this.field_78292_o, this.field_78306_p, this.field_78305_q);
+                    setColor(this.field_78291_n, this.field_78292_o, this.field_78306_p, this.field_78305_q);
                 }
 
                 ++i;
@@ -428,7 +428,26 @@
 
                     ++f;
                 }
+                
+                doDraw(f);
+            }
+        }
+    }
 
+    protected void setColor(float r, float g, float b, float a)
+    {
+        GlStateManager.func_179131_c(r, g, b, a);
+    }
+    
+    protected void enableAlpha()
+    {
+        GlStateManager.func_179141_d();
+    }
+
+    protected void doDraw(float f)
+    {
+        {
+            {
                 Tessellator tessellator;
                 WorldRenderer worldrenderer;
 
@@ -504,7 +523,7 @@
             this.field_78292_o = (float)(p_180455_4_ >> 8 & 255) / 255.0F;
             this.field_78306_p = (float)(p_180455_4_ & 255) / 255.0F;
             this.field_78305_q = (float)(p_180455_4_ >> 24 & 255) / 255.0F;
-            GlStateManager.func_179131_c(this.field_78291_n, this.field_78292_o, this.field_78306_p, this.field_78305_q);
+            setColor(this.field_78291_n, this.field_78292_o, this.field_78306_p, this.field_78305_q);
             this.field_78295_j = p_180455_2_;
             this.field_78296_k = p_180455_3_;
             this.func_78255_a(p_180455_1_, p_180455_5_);
